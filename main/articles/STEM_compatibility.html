<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>STEM compatibility â€¢ flexsurvPlus</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="STEM compatibility">
<meta property="og:description" content="flexsurvPlus">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-SGZFXJEC6X"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SGZFXJEC6X');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flexsurvPlus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.06</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://roche.github.io/Global-HTA-Evidence-Open/index.html" class="external-link">Global-HTA-Evidence-Open</a>
    </li>
    <li>
      <a href="https://roche.github.io/flexsurvPlus/index.html" class="external-link">flexsurvPlus</a>
    </li>
    <li>
      <a href="https://roche.github.io/gemtcPlus/index.html" class="external-link">gemtcPlus</a>
    </li>
    <li>
      <a href="https://roche.github.io/MAIC/index.html" class="external-link">MAIC</a>
    </li>
    <li>
      <a href="https://roche.github.io/rpsftmPlus/index.html" class="external-link">rpsftmPlus</a>
    </li>
    <li>
      <a href="https://roche.github.io/descem/index.html" class="external-link">descem</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Roche/flexsurvPlus" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>STEM compatibility</h1>
                        <h4 data-toc-skip class="author">Roche</h4>
            
            <h4 data-toc-skip class="date">2023-05-02</h4>
      
      
      <div class="hidden name"><code>STEM_compatibility.Rmd</code></div>

    </div>

    
    
<style type="text/css">

body{ /* Normal  */
      font-size: 14px;
  }
td {  /* Table  */
  font-size: 10px;
}
h1.title {
  font-size: 38px;
}
h1 { /* Header 1 */
  font-size: 28px;
  }
h2 { /* Header 2 */
    font-size: 22px;
}
h3 { /* Header 3 */
  font-size: 18px;
}
code.r{ /* Code block */
    font-size: 12px;
}
pre { /* Code block - determines code spacing between lines */
    font-size: 14px;
}
</style>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette describes the use of the <tt>convSTEM</tt> function
which enables backwards compatibility with STEM economic models which
use an alternative formulation of parametric survival models. For most
users this vignette can be safely ignored. The following packages are
required to run this example:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">flexsurvPlus</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">boot</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="read-in-the-data">Read in the data<a class="anchor" aria-label="anchor" href="#read-in-the-data"></a>
</h3>
<p>To perform survival analyses, patient level data is required for the
survival endpoints.</p>
<p>This example uses a standard simulated data set (adtte). There is no
standard naming that is needed for this package however, there are some
set variables that are needed:</p>
<ul>
<li>Time - a numeric variable</li>
<li>Event - a binary variable (event=1, censor=0)</li>
</ul>
<p>In this example, we use only progression-free survival (PFS).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="co"># simulate data with a medium correlation between PFS &amp; OS on the patient level</span></span>
<span><span class="va">adtte</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_adtte.html">sim_adtte</a></span><span class="op">(</span>seed <span class="op">=</span> <span class="fl">2020</span>, <span class="co"># for reproducibility</span></span>
<span>                   rho <span class="op">=</span> <span class="fl">0.6</span> <span class="co"># defines a correlation on underlying survival times</span></span>
<span>                   <span class="op">)</span> </span>
<span></span>
<span><span class="co"># subset PFS data and rename</span></span>
<span><span class="va">PFS_data</span> <span class="op">&lt;-</span> <span class="va">adtte</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">PARAMCD</span><span class="op">==</span><span class="st">"PFS"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html" class="external-link">transmute</a></span><span class="op">(</span><span class="va">USUBJID</span>, <span class="va">ARMCD</span>,</span>
<span>            <span class="va">AVAL</span>,</span>
<span>            event <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="va">CNSR</span> <span class="co">#needs to be coded as 1 for event</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="fitting-models">Fitting models<a class="anchor" aria-label="anchor" href="#fitting-models"></a>
</h2>
<p>This section uses <tt>runPSM</tt> as described in other vignettes to
estimate survival models. As described in other vignettes
<tt>flexsurvPlus</tt> primarily uses bootstrapping to handle uncertainty
with the <tt>bootPSM</tt> function in conjunction with
<tt>boot</tt>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># For speed only 4 models are considered for this example but </span></span>
<span><span class="co"># all models could be considered</span></span>
<span></span>
<span><span class="va">psm_PFS_expweib</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runPSM.html">runPSM</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PFS_data</span>,</span>
<span>                          time_var <span class="op">=</span> <span class="st">"AVAL"</span>,</span>
<span>                          event_var <span class="op">=</span><span class="st">"event"</span>,</span>
<span>                          model.type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Common shape"</span>, </span>
<span>                                         <span class="st">"Separate"</span><span class="op">)</span>,</span>
<span>                     distr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'exp'</span>,</span>
<span>                               <span class="st">'weibull'</span><span class="op">)</span>,</span>
<span>                     strata_var <span class="op">=</span> <span class="st">"ARMCD"</span>,</span>
<span>                     int_name <span class="op">=</span> <span class="st">"A"</span>,</span>
<span>                     ref_name <span class="op">=</span> <span class="st">"B"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Apply bootstrapping for illustration 100 samples are taken</span></span>
<span><span class="co"># In practice a larger number maybe preferable.</span></span>
<span></span>
<span><span class="va">psm_boot_PFS_expweib</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">boot</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">psm_PFS_expweib</span><span class="op">$</span><span class="va">config</span>, statistic <span class="op">=</span> <span class="va">bootPSM</span>, R <span class="op">=</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="converting-to-a-stem-format">Converting to a STEM format<a class="anchor" aria-label="anchor" href="#converting-to-a-stem-format"></a>
</h2>
<p>This is done using <tt>convSTEM</tt>. Depending on if a
<tt>runPSM</tt> object or a <tt>bootPSM</tt> object or both are provided
different quantities will be estimated.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># only supplying x</span></span>
<span><span class="va">PFS_conv_x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/convSTEM.html">convSTEM</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">psm_PFS_expweib</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># only supplying samples</span></span>
<span><span class="va">PFS_conv_samples</span> <span class="op">&lt;-</span>  <span class="fu"><a href="../reference/convSTEM.html">convSTEM</a></span><span class="op">(</span>samples <span class="op">=</span> <span class="va">psm_boot_PFS_expweib</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># supplying both x and samples from the same set of models</span></span>
<span><span class="va">PFS_conv_both</span> <span class="op">&lt;-</span>  <span class="fu"><a href="../reference/convSTEM.html">convSTEM</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">psm_PFS_expweib</span>, samples <span class="op">=</span> <span class="va">psm_boot_PFS_expweib</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="the-output-of-convstem">The output of convSTEM<a class="anchor" aria-label="anchor" href="#the-output-of-convstem"></a>
</h2>
<p><tt>convSTEM</tt> returns a list of four data frames containing
parameters converted to match those reported by an existing SAS
macro.</p>
<ul>
<li>
<tt>stem_param</tt> The parameter estimates</li>
<li>
<tt>stem_cov</tt> Estimates for a covariance matrix for the
parameters derived from the bootstrap samples.</li>
<li>
<tt>stem_modsum</tt> A summary of the model fit statistics.</li>
<li>
<tt>stem_boot</tt> A data frame of converted boot strap
estimates.</li>
</ul>
<div class="section level3">
<h3 id="stem_param">stem_param<a class="anchor" aria-label="anchor" href="#stem_param"></a>
</h3>
<p><tt>stem_param</tt> contains the parameter estimates and is
calculated if either x or samples is provided.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">PFS_conv_x</span><span class="op">$</span><span class="va">stem_param</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Model"    "ModelF"   "Dist"     "DistF"    "Param"    "ParamF"   "Estimate"</span></span>
<span></span>
<span><span class="va">PFS_conv_x</span><span class="op">$</span><span class="va">stem_param</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html" class="external-link">transmute</a></span><span class="op">(</span><span class="va">Model</span>, <span class="va">Dist</span>, <span class="va">Param</span>, <span class="va">Estimate</span><span class="op">)</span> </span>
<span><span class="co">#&gt;                      Model        Dist            Param   Estimate</span></span>
<span><span class="co">#&gt; 1             Common shape Exponential        INTERCEPT  6.1145985</span></span>
<span><span class="co">#&gt; 2             Common shape Exponential TX(Intervention) -0.7675910</span></span>
<span><span class="co">#&gt; 3             Common shape     Weibull        INTERCEPT  6.0800704</span></span>
<span><span class="co">#&gt; 4             Common shape     Weibull TX(Intervention) -0.6623183</span></span>
<span><span class="co">#&gt; 5             Common shape     Weibull            SCALE  0.7204249</span></span>
<span><span class="co">#&gt; 6     Separate - Reference Exponential        INTERCEPT  6.1145985</span></span>
<span><span class="co">#&gt; 7     Separate - Reference     Weibull        INTERCEPT  6.0798340</span></span>
<span><span class="co">#&gt; 8     Separate - Reference     Weibull            SCALE  0.7171585</span></span>
<span><span class="co">#&gt; 9  Separate - Intervention Exponential        INTERCEPT  5.3470075</span></span>
<span><span class="co">#&gt; 10 Separate - Intervention     Weibull        INTERCEPT  5.4170457</span></span>
<span><span class="co">#&gt; 11 Separate - Intervention     Weibull            SCALE  0.7224962</span></span>
<span></span>
<span><span class="va">PFS_conv_samples</span><span class="op">$</span><span class="va">stem_param</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html" class="external-link">transmute</a></span><span class="op">(</span><span class="va">Model</span>, <span class="va">Dist</span>, <span class="va">Param</span>, <span class="va">Estimate</span><span class="op">)</span> </span>
<span><span class="co">#&gt;                      Model        Dist            Param   Estimate</span></span>
<span><span class="co">#&gt; 1             Common shape Exponential        INTERCEPT  6.1145985</span></span>
<span><span class="co">#&gt; 2             Common shape Exponential TX(Intervention) -0.7675910</span></span>
<span><span class="co">#&gt; 3             Common shape     Weibull        INTERCEPT  6.0800704</span></span>
<span><span class="co">#&gt; 4             Common shape     Weibull TX(Intervention) -0.6623183</span></span>
<span><span class="co">#&gt; 5             Common shape     Weibull            SCALE  0.7204249</span></span>
<span><span class="co">#&gt; 6     Separate - Reference Exponential        INTERCEPT  6.1145985</span></span>
<span><span class="co">#&gt; 7     Separate - Reference     Weibull        INTERCEPT  6.0798340</span></span>
<span><span class="co">#&gt; 8     Separate - Reference     Weibull            SCALE  0.7171585</span></span>
<span><span class="co">#&gt; 9  Separate - Intervention Exponential        INTERCEPT  5.3470075</span></span>
<span><span class="co">#&gt; 10 Separate - Intervention     Weibull        INTERCEPT  5.4170457</span></span>
<span><span class="co">#&gt; 11 Separate - Intervention     Weibull            SCALE  0.7224962</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="stem_cov">stem_cov<a class="anchor" aria-label="anchor" href="#stem_cov"></a>
</h3>
<p><tt>stem_cov</tt> contains estimates for a covariance matrix for the
parameters and is only derived if samples is provided.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">PFS_conv_x</span><span class="op">$</span><span class="va">stem_cov</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "Model"     "ModelF"    "Dist"      "DistF"     "rowParam"  "colParam" </span></span>
<span><span class="co">#&gt;  [7] "rowParamF" "colParamF" "rowNum"    "colNum"    "CovEst"</span></span>
<span></span>
<span><span class="co"># note is empty here as samples were not provided</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">PFS_conv_x</span><span class="op">$</span><span class="va">stem_cov</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span></span>
<span><span class="va">PFS_conv_samples</span><span class="op">$</span><span class="va">stem_cov</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html" class="external-link">transmute</a></span><span class="op">(</span><span class="va">Model</span>, <span class="va">Dist</span>, <span class="va">rowParam</span>, <span class="va">colParam</span>, <span class="va">rowNum</span>, <span class="va">colNum</span>, <span class="va">CovEst</span><span class="op">)</span> </span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 23 Ã— 7</span></span></span>
<span><span class="co">#&gt;    Model        Dist        rowParam         colParam     rowNum colNum   CovEst</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Common shape Exponential INTERCEPT        INTERCEPT         1      1  4.54<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Common shape Exponential INTERCEPT        TX(Intervenâ€¦      1      2 -<span style="color: #BB0000;">4.86</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Common shape Exponential TX(Intervention) INTERCEPT         2      1 -<span style="color: #BB0000;">4.86</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Common shape Exponential TX(Intervention) TX(Intervenâ€¦      2      2  7.93<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Common shape Weibull     INTERCEPT        INTERCEPT         1      1  2.98<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Common shape Weibull     INTERCEPT        TX(Intervenâ€¦      1      2 -<span style="color: #BB0000;">3.18</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Common shape Weibull     INTERCEPT        SCALE             1      3  8.86<span style="color: #949494;">e</span><span style="color: #BB0000;">-5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Common shape Weibull     TX(Intervention) INTERCEPT         2      1 -<span style="color: #BB0000;">3.18</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Common shape Weibull     TX(Intervention) TX(Intervenâ€¦      2      2  5.80<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Common shape Weibull     TX(Intervention) SCALE             2      3 -<span style="color: #BB0000;">7.51</span><span style="color: #949494;">e</span><span style="color: #BB0000;">-5</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># â„¹ 13 more rows</span></span></span></code></pre></div>
<p>The matrix is described by row and column numbers so can be back
converted to a matrix if desired.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># select a single model from the data frame</span></span>
<span><span class="va">weibull_common_data</span> <span class="op">&lt;-</span> <span class="va">PFS_conv_samples</span><span class="op">$</span><span class="va">stem_cov</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Model</span> <span class="op">==</span> <span class="st">"Common shape"</span>, <span class="va">Dist</span> <span class="op">==</span> <span class="st">"Weibull"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html" class="external-link">transmute</a></span><span class="op">(</span><span class="va">rowParam</span>, <span class="va">colParam</span>, <span class="va">rowNum</span>, <span class="va">colNum</span>, <span class="va">CovEst</span><span class="op">)</span></span>
<span></span>
<span><span class="va">weibull_common_data</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 Ã— 5</span></span></span>
<span><span class="co">#&gt;   rowParam         colParam         rowNum colNum     CovEst</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> INTERCEPT        INTERCEPT             1      1  0.002<span style="text-decoration: underline;">98</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> INTERCEPT        TX(Intervention)      1      2 -<span style="color: #BB0000;">0.003</span><span style="color: #BB0000; text-decoration: underline;">18</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> INTERCEPT        SCALE                 1      3  0.000<span style="text-decoration: underline;">088</span>6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> TX(Intervention) INTERCEPT             2      1 -<span style="color: #BB0000;">0.003</span><span style="color: #BB0000; text-decoration: underline;">18</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> TX(Intervention) TX(Intervention)      2      2  0.005<span style="text-decoration: underline;">80</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> TX(Intervention) SCALE                 2      3 -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">075</span><span style="color: #BB0000;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> SCALE            INTERCEPT             3      1  0.000<span style="text-decoration: underline;">088</span>6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> SCALE            TX(Intervention)      3      2 -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">075</span><span style="color: #BB0000;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span> SCALE            SCALE                 3      3  0.000<span style="text-decoration: underline;">750</span></span></span>
<span></span>
<span><span class="co"># can see is ordered by row so can convert to a matrix</span></span>
<span></span>
<span><span class="va">weibull_common_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">weibull_common_data</span><span class="op">$</span><span class="va">CovEst</span>,</span>
<span>                                nrow <span class="op">=</span> <span class="fl">3</span>, ncol <span class="op">=</span> <span class="fl">3</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># applying names</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">weibull_common_matrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">weibull_common_matrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">weibull_common_data</span><span class="op">$</span><span class="va">colParam</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span>
<span></span>
<span><span class="va">weibull_common_matrix</span></span>
<span><span class="co">#&gt;                      INTERCEPT TX(Intervention)         SCALE</span></span>
<span><span class="co">#&gt; INTERCEPT         2.976351e-03    -3.184138e-03  8.859245e-05</span></span>
<span><span class="co">#&gt; TX(Intervention) -3.184138e-03     5.803708e-03 -7.510364e-05</span></span>
<span><span class="co">#&gt; SCALE             8.859245e-05    -7.510364e-05  7.501754e-04</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="stem_modsum">stem_modsum<a class="anchor" aria-label="anchor" href="#stem_modsum"></a>
</h3>
<p><tt>stem_modsum</tt> contains a summary of the model fit statistics
and is only produced if x is provided.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">PFS_conv_x</span><span class="op">$</span><span class="va">stem_modsum</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Model"   "ModelF"  "Dist"    "DistF"   "Status"  "AIC"     "AIC_SAS"</span></span>
<span><span class="co">#&gt; [8] "BIC"     "BIC_SAS"</span></span>
<span></span>
<span><span class="co"># note is empty here as x was not provided</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">PFS_conv_samples</span><span class="op">$</span><span class="va">stem_modsum</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span></span>
<span><span class="va">PFS_conv_x</span><span class="op">$</span><span class="va">stem_modsum</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html" class="external-link">transmute</a></span><span class="op">(</span><span class="va">Model</span>, <span class="va">Dist</span>, <span class="va">Status</span>, <span class="va">AIC</span>, <span class="va">AIC_SAS</span>, <span class="va">BIC</span>, <span class="va">BIC_SAS</span><span class="op">)</span> </span>
<span><span class="co">#&gt;                     Model        Dist    Status      AIC   AIC_SAS      BIC</span></span>
<span><span class="co">#&gt; 1            Common shape Exponential Converged 5600.660 1326.3479 5609.089</span></span>
<span><span class="co">#&gt; 2            Common shape     Weibull Converged 5545.222 1270.9094 5557.866</span></span>
<span><span class="co">#&gt; 3 Separate - Intervention Exponential Converged 3023.176  671.5601 3026.697</span></span>
<span><span class="co">#&gt; 4 Separate - Intervention     Weibull Converged 2990.943  639.3272 2997.986</span></span>
<span><span class="co">#&gt; 5    Separate - Reference Exponential Converged 2577.485  654.7878 2581.006</span></span>
<span><span class="co">#&gt; 6    Separate - Reference     Weibull Converged 2556.271  633.5741 2563.314</span></span>
<span><span class="co">#&gt;     BIC_SAS</span></span>
<span><span class="co">#&gt; 1 1334.7771</span></span>
<span><span class="co">#&gt; 2 1283.5533</span></span>
<span><span class="co">#&gt; 3  675.0816</span></span>
<span><span class="co">#&gt; 4  646.3702</span></span>
<span><span class="co">#&gt; 5  658.3092</span></span>
<span><span class="co">#&gt; 6  640.6170</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="stem_boot">stem_boot<a class="anchor" aria-label="anchor" href="#stem_boot"></a>
</h3>
<p><tt>stem_boot</tt> contains a data frame of converted boot strap
estimates and is only derived if samples is provided.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">PFS_conv_samples</span><span class="op">$</span><span class="va">stem_boot</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Model"      "ModelF"     "Dist"       "DistF"      "BootSample"</span></span>
<span><span class="co">#&gt; [6] "Param"      "ParamF"     "Estimate"</span></span>
<span></span>
<span><span class="co"># note is empty here as samples were not provided</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">PFS_conv_x</span><span class="op">$</span><span class="va">stem_boot</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span></span>
<span><span class="va">PFS_conv_samples</span><span class="op">$</span><span class="va">stem_boot</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html" class="external-link">transmute</a></span><span class="op">(</span><span class="va">Model</span>, <span class="va">Dist</span>, <span class="va">BootSample</span>, <span class="va">Param</span>, <span class="va">Estimate</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;          Model        Dist BootSample            Param   Estimate</span></span>
<span><span class="co">#&gt; 1 Common shape Exponential          1        INTERCEPT  6.1289156</span></span>
<span><span class="co">#&gt; 2 Common shape Exponential          1 TX(Intervention) -0.7908096</span></span>
<span><span class="co">#&gt; 3 Common shape Exponential          2        INTERCEPT  6.0663108</span></span>
<span><span class="co">#&gt; 4 Common shape Exponential          2 TX(Intervention) -0.6928566</span></span>
<span><span class="co">#&gt; 5 Common shape Exponential          3        INTERCEPT  6.0120960</span></span>
<span><span class="co">#&gt; 6 Common shape Exponential          3 TX(Intervention) -0.6119670</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="details-on-conversions">Details on conversions<a class="anchor" aria-label="anchor" href="#details-on-conversions"></a>
</h2>
<p>To illustrate the conversions will fit a full set of models to the
data.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">psm_PFS_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runPSM.html">runPSM</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">PFS_data</span>,</span>
<span>                     time_var<span class="op">=</span><span class="st">"AVAL"</span>,</span>
<span>                     event_var<span class="op">=</span><span class="st">"event"</span>,</span>
<span>                     model.type<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Common shape"</span>, </span>
<span>                                   <span class="st">"Independent shape"</span>, </span>
<span>                                   <span class="st">"Separate"</span><span class="op">)</span>,</span>
<span>                     distr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'exp'</span>,</span>
<span>                               <span class="st">'weibull'</span>,</span>
<span>                               <span class="st">'gompertz'</span>,</span>
<span>                               <span class="st">'lnorm'</span>,</span>
<span>                               <span class="st">'llogis'</span>,</span>
<span>                               <span class="st">'gengamma'</span>,</span>
<span>                               <span class="st">'gamma'</span>,</span>
<span>                               <span class="st">'genf'</span><span class="op">)</span>,</span>
<span>                     strata_var <span class="op">=</span> <span class="st">"ARMCD"</span>,</span>
<span>                     int_name<span class="op">=</span><span class="st">"A"</span>,</span>
<span>                     ref_name <span class="op">=</span> <span class="st">"B"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># only supplying x</span></span>
<span><span class="va">PFS_conv_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/convSTEM.html">convSTEM</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">psm_PFS_all</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># To see what the converted parameters are can look at stem_param</span></span>
<span><span class="va">PFS_conv_all</span><span class="op">$</span><span class="va">stem_param</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Model</span>, <span class="va">Dist</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>Params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">Param</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="35%">
<col width="19%">
<col width="45%">
</colgroup>
<thead><tr class="header">
<th align="left">Model</th>
<th align="left">Dist</th>
<th align="left">Params</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Common shape</td>
<td align="left">Exponential</td>
<td align="left">INTERCEPT, TX(Intervention)</td>
</tr>
<tr class="even">
<td align="left">Common shape</td>
<td align="left">Gamma</td>
<td align="left">INTERCEPT, TX(Intervention), SCALE</td>
</tr>
<tr class="odd">
<td align="left">Common shape</td>
<td align="left">Generalized Gamma</td>
<td align="left">INTERCEPT, TX(Intervention), SCALE, SHAPE</td>
</tr>
<tr class="even">
<td align="left">Common shape</td>
<td align="left">Gompertz</td>
<td align="left">INTERCEPT, TX(Intervention), SCALE</td>
</tr>
<tr class="odd">
<td align="left">Common shape</td>
<td align="left">Log Logistic</td>
<td align="left">INTERCEPT, TX(Intervention), SCALE</td>
</tr>
<tr class="even">
<td align="left">Common shape</td>
<td align="left">Log Normal</td>
<td align="left">INTERCEPT, TX(Intervention), SCALE</td>
</tr>
<tr class="odd">
<td align="left">Common shape</td>
<td align="left">Weibull</td>
<td align="left">INTERCEPT, TX(Intervention), SCALE</td>
</tr>
<tr class="even">
<td align="left">Independent shape - Intervention</td>
<td align="left">Exponential</td>
<td align="left">INTERCEPT</td>
</tr>
<tr class="odd">
<td align="left">Independent shape - Intervention</td>
<td align="left">Gamma</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="even">
<td align="left">Independent shape - Intervention</td>
<td align="left">Generalized Gamma</td>
<td align="left">INTERCEPT, SCALE, SHAPE</td>
</tr>
<tr class="odd">
<td align="left">Independent shape - Intervention</td>
<td align="left">Gompertz</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="even">
<td align="left">Independent shape - Intervention</td>
<td align="left">Log Logistic</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="odd">
<td align="left">Independent shape - Intervention</td>
<td align="left">Log Normal</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="even">
<td align="left">Independent shape - Intervention</td>
<td align="left">Weibull</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="odd">
<td align="left">Independent shape - Reference</td>
<td align="left">Exponential</td>
<td align="left">INTERCEPT</td>
</tr>
<tr class="even">
<td align="left">Independent shape - Reference</td>
<td align="left">Gamma</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="odd">
<td align="left">Independent shape - Reference</td>
<td align="left">Generalized Gamma</td>
<td align="left">INTERCEPT, SCALE, SHAPE</td>
</tr>
<tr class="even">
<td align="left">Independent shape - Reference</td>
<td align="left">Gompertz</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="odd">
<td align="left">Independent shape - Reference</td>
<td align="left">Log Logistic</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="even">
<td align="left">Independent shape - Reference</td>
<td align="left">Log Normal</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="odd">
<td align="left">Independent shape - Reference</td>
<td align="left">Weibull</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="even">
<td align="left">Separate - Intervention</td>
<td align="left">Exponential</td>
<td align="left">INTERCEPT</td>
</tr>
<tr class="odd">
<td align="left">Separate - Intervention</td>
<td align="left">Gamma</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="even">
<td align="left">Separate - Intervention</td>
<td align="left">Generalized Gamma</td>
<td align="left">INTERCEPT, SCALE, SHAPE</td>
</tr>
<tr class="odd">
<td align="left">Separate - Intervention</td>
<td align="left">Gompertz</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="even">
<td align="left">Separate - Intervention</td>
<td align="left">Log Logistic</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="odd">
<td align="left">Separate - Intervention</td>
<td align="left">Log Normal</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="even">
<td align="left">Separate - Intervention</td>
<td align="left">Weibull</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="odd">
<td align="left">Separate - Reference</td>
<td align="left">Exponential</td>
<td align="left">INTERCEPT</td>
</tr>
<tr class="even">
<td align="left">Separate - Reference</td>
<td align="left">Gamma</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="odd">
<td align="left">Separate - Reference</td>
<td align="left">Generalized Gamma</td>
<td align="left">INTERCEPT, SCALE, SHAPE</td>
</tr>
<tr class="even">
<td align="left">Separate - Reference</td>
<td align="left">Gompertz</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="odd">
<td align="left">Separate - Reference</td>
<td align="left">Log Logistic</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="even">
<td align="left">Separate - Reference</td>
<td align="left">Log Normal</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
<tr class="odd">
<td align="left">Separate - Reference</td>
<td align="left">Weibull</td>
<td align="left">INTERCEPT, SCALE</td>
</tr>
</tbody>
</table>
<div class="section level3">
<h3 id="conversion-of-parameters">Conversion of parameters<a class="anchor" aria-label="anchor" href="#conversion-of-parameters"></a>
</h3>
<p>Note in general independent shape models were not estimated by STEM
macro so are converted for backwards compatibility as if if they were
estimated by separate models. This has implications for how AIC and BIC
should be interpreted in these cases.</p>
<div class="section level4">
<h4 id="conversion-of-exponential-models">Conversion of Exponential models<a class="anchor" aria-label="anchor" href="#conversion-of-exponential-models"></a>
</h4>
<p><tt>flexsurvPlus</tt> uses the parameter rate (<span class="math inline">\(b\)</span>). For common shape, independent shape
and separate models these can be denoted as <span class="math inline">\(b_R\)</span> for reference and <span class="math inline">\(b_I\)</span> for intervention.</p>
<p>The SAS STEM macro reports INTERCEPT and TX(INTERVENTION) which are
converted as shown below.</p>
<div class="section level5">
<h5 id="seperate-models">Seperate models<a class="anchor" aria-label="anchor" href="#seperate-models"></a>
</h5>
<ul>
<li>Reference arm
<ul>
<li>INTERCEPT = <span class="math inline">\(-\log(b_R)\)</span>
</li>
</ul>
</li>
<li>Intervention arm
<ul>
<li>INTERCEPT = <span class="math inline">\(-\log(b_I)\)</span>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="common-shape-models">Common shape models<a class="anchor" aria-label="anchor" href="#common-shape-models"></a>
</h5>
<ul>
<li>INTERCEPT = <span class="math inline">\(-\log(b_R)\)</span>
</li>
<li>TX(INTERVENTION) = <span class="math inline">\(-(\log(b_I) -
\log(b_R))\)</span>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="excel-formula">Excel formula<a class="anchor" aria-label="anchor" href="#excel-formula"></a>
</h5>
<p>To derive survival in Excel the following formula are used:</p>
<ul>
<li>
<code>lambda = EXP(-INTERCEPT)</code> and/or</li>
<li><code>lambda = EXP(-(INTERCEPT+TX(INTERVENTION)))</code></li>
<li><code>Survival = EXP(-lambda*time)</code></li>
</ul>
</div>
</div>
<div class="section level4">
<h4 id="conversion-of-weibull-models">Conversion of Weibull models<a class="anchor" aria-label="anchor" href="#conversion-of-weibull-models"></a>
</h4>
<p><tt>flexsurvPlus</tt> uses the parameters scale (<span class="math inline">\(b\)</span>) and shape (<span class="math inline">\(a\)</span>). For common shape, independent shape
and separate models these can be denoted as <span class="math inline">\(b_R, a_R\)</span> for reference and <span class="math inline">\(b_I, a_I\)</span> for intervention. For common
shape models <span class="math inline">\(a_R=a_I\)</span>.</p>
<p>The SAS STEM macro reports INTERCEPT, TX(INTERVENTION) and SCALE
which are converted as shown below.</p>
<div class="section level5">
<h5 id="seperate-models-1">Seperate models<a class="anchor" aria-label="anchor" href="#seperate-models-1"></a>
</h5>
<ul>
<li>Reference arm
<ul>
<li>INTERCEPT = <span class="math inline">\(\log(b_R)\)</span>
</li>
<li>SCALE = <span class="math inline">\(\frac{1}{a_R}\)</span>
</li>
</ul>
</li>
<li>Intervention arm
<ul>
<li>INTERCEPT = <span class="math inline">\(\log(b_I)\)</span>
</li>
<li>SCALE = <span class="math inline">\(\frac{1}{a_I}\)</span>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="common-shape-models-1">Common shape models<a class="anchor" aria-label="anchor" href="#common-shape-models-1"></a>
</h5>
<ul>
<li>INTERCEPT = <span class="math inline">\(\log(b_R)\)</span>
</li>
<li>TX(INTERVENTION) = <span class="math inline">\(\log(b_I) -
\log(b_R)\)</span>
</li>
<li>SCALE = <span class="math inline">\(\frac{1}{a_R}\)</span>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="excel-formula-1">Excel formula<a class="anchor" aria-label="anchor" href="#excel-formula-1"></a>
</h5>
<p>To derive survival in Excel the following formula are used:</p>
<ul>
<li>
<code>lambda = EXP(-INTERCEPT/SCALE)</code> and/or</li>
<li><code>lambda = EXP(-(INTERCEPT+TX(INTERVENTION)/SCALE))</code></li>
<li><code>gamma = 1/SCALE</code></li>
<li><code>Survival = EXP(-lambda*time^gamma)</code></li>
</ul>
</div>
</div>
<div class="section level4">
<h4 id="conversion-of-gompertz-models">Conversion of Gompertz models<a class="anchor" aria-label="anchor" href="#conversion-of-gompertz-models"></a>
</h4>
<p><tt>flexsurvPlus</tt> uses the parameters rate (<span class="math inline">\(b\)</span>) and shape (<span class="math inline">\(a\)</span>). For common shape, independent shape
and separate models these can be denoted as <span class="math inline">\(b_R, a_R\)</span> for reference and <span class="math inline">\(b_I, a_I\)</span> for intervention. For common
shape models <span class="math inline">\(a_R=a_I\)</span>.</p>
<p>The SAS STEM macro reports INTERCEPT, TX(INTERVENTION) and SCALE
which are converted as shown below.</p>
<div class="section level5">
<h5 id="seperate-models-2">Seperate models<a class="anchor" aria-label="anchor" href="#seperate-models-2"></a>
</h5>
<ul>
<li>Reference arm
<ul>
<li>INTERCEPT = <span class="math inline">\(-\log(b_R)\)</span>
</li>
<li>SCALE = <span class="math inline">\(a_R\)</span>
</li>
</ul>
</li>
<li>Intervention arm
<ul>
<li>INTERCEPT = <span class="math inline">\(-\log(b_I)\)</span>
</li>
<li>SCALE = <span class="math inline">\(a_I\)</span>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="common-shape-models-2">Common shape models<a class="anchor" aria-label="anchor" href="#common-shape-models-2"></a>
</h5>
<ul>
<li>INTERCEPT = <span class="math inline">\(-\log(b_R)\)</span>
</li>
<li>TX(INTERVENTION) = <span class="math inline">\(-(\log(b_I) -
\log(b_R))\)</span>
</li>
<li>SCALE = <span class="math inline">\(a_R\)</span>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="excel-formula-2">Excel formula<a class="anchor" aria-label="anchor" href="#excel-formula-2"></a>
</h5>
<p>To derive survival in Excel the following formula are used:</p>
<ul>
<li>
<code>lambda = EXP(-INTERCEPT)</code> and/or</li>
<li><code>lambda = EXP(-(INTERCEPT+TX(INTERVENTION)))</code></li>
<li><code>gamma = SCALE</code></li>
<li><code>Survival = EXP((lambda/gamma)*(1-EXP(gamma*time)))</code></li>
</ul>
</div>
</div>
<div class="section level4">
<h4 id="conversion-of-log-logistic-models">Conversion of Log-logistic models<a class="anchor" aria-label="anchor" href="#conversion-of-log-logistic-models"></a>
</h4>
<p><tt>flexsurvPlus</tt> uses the parameters scale (<span class="math inline">\(b\)</span>) and shape (<span class="math inline">\(a\)</span>). For common shape, independent shape
and separate models these can be denoted as <span class="math inline">\(b_R, a_R\)</span> for reference and <span class="math inline">\(b_I, a_I\)</span> for intervention. For common
shape models <span class="math inline">\(a_R=a_I\)</span>.</p>
<p>The SAS STEM macro reports INTERCEPT, TX(INTERVENTION) and SCALE
which are converted as shown below.</p>
<div class="section level5">
<h5 id="seperate-models-3">Seperate models<a class="anchor" aria-label="anchor" href="#seperate-models-3"></a>
</h5>
<ul>
<li>Reference arm
<ul>
<li>INTERCEPT = <span class="math inline">\(\log(b_R)\)</span>
</li>
<li>SCALE = <span class="math inline">\(\frac{1}{a_R}\)</span>
</li>
</ul>
</li>
<li>Intervention arm
<ul>
<li>INTERCEPT = <span class="math inline">\(\log(b_I)\)</span>
</li>
<li>SCALE = <span class="math inline">\(\frac{1}{a_I}\)</span>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="common-shape-models-3">Common shape models<a class="anchor" aria-label="anchor" href="#common-shape-models-3"></a>
</h5>
<ul>
<li>INTERCEPT = <span class="math inline">\(-\log(b_R)\)</span>
</li>
<li>TX(INTERVENTION) = <span class="math inline">\(\log(b_I) -
\log(B_R)\)</span>
</li>
<li>SCALE = <span class="math inline">\(\frac{1}{a_R}\)</span>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="excel-formula-3">Excel formula<a class="anchor" aria-label="anchor" href="#excel-formula-3"></a>
</h5>
<p>To derive survival in Excel the following formula are used:</p>
<ul>
<li>
<code>lambda = EXP(-INTERCEPT/SCALE)</code> and/or</li>
<li><code>lambda = EXP(-(INTERCEPT+TX(INTERVENTION)/SCALE))</code></li>
<li><code>gamma = 1/SCALE</code></li>
<li><code>Survival = 1 / (1 + lambda*time^gamma)</code></li>
</ul>
</div>
</div>
<div class="section level4">
<h4 id="conversion-of-log-normal-models">Conversion of Log-normal models<a class="anchor" aria-label="anchor" href="#conversion-of-log-normal-models"></a>
</h4>
<p><tt>flexsurvPlus</tt> uses the parameters meanlog (<span class="math inline">\(\mu\)</span>) and sdlog (<span class="math inline">\(\sigma\)</span>). For common shape, independent
shape and separate models these can be denoted as <span class="math inline">\(\mu_R, \sigma_R\)</span> for reference and <span class="math inline">\(\mu_I, \sigma_I\)</span> for intervention. For
common shape models <span class="math inline">\(\sigma_R=\sigma_I\)</span>.</p>
<p>The SAS STEM macro reports INTERCEPT, TX(INTERVENTION) and SCALE
which are converted as shown below.</p>
<div class="section level5">
<h5 id="seperate-models-4">Seperate models<a class="anchor" aria-label="anchor" href="#seperate-models-4"></a>
</h5>
<ul>
<li>Reference arm
<ul>
<li>INTERCEPT = <span class="math inline">\(\mu_R\)</span>
</li>
<li>SCALE = <span class="math inline">\(\sigma_R\)</span>
</li>
</ul>
</li>
<li>Intervention arm
<ul>
<li>INTERCEPT = <span class="math inline">\(\mu_I\)</span>
</li>
<li>SCALE = <span class="math inline">\(\sigma_I\)</span>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="common-shape-models-4">Common shape models<a class="anchor" aria-label="anchor" href="#common-shape-models-4"></a>
</h5>
<ul>
<li>INTERCEPT = <span class="math inline">\(\mu_R\)</span>
</li>
<li>TX(INTERVENTION) = <span class="math inline">\(\mu_I -
\mu_R\)</span>
</li>
<li>SCALE = <span class="math inline">\(\sigma_R\)</span>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="excel-formula-4">Excel formula<a class="anchor" aria-label="anchor" href="#excel-formula-4"></a>
</h5>
<p>To derive survival in Excel the following formula are used:</p>
<ul>
<li>
<code>lambda = INTERCEPT</code> and/or</li>
<li><code>lambda = INTERCEPT+TX(INTERVENTION)</code></li>
<li><code>gamma = SCALE</code></li>
<li><code>Survival = 1-NORMDIST(((LN(time)-lambda)/gamma),0,1,TRUE)</code></li>
</ul>
</div>
</div>
<div class="section level4">
<h4 id="conversion-of-generalized-gamma-models">Conversion of Generalized Gamma models<a class="anchor" aria-label="anchor" href="#conversion-of-generalized-gamma-models"></a>
</h4>
<p><tt>flexsurvPlus</tt> uses the parameters mu (<span class="math inline">\(\mu\)</span>), sigma (<span class="math inline">\(\sigma\)</span>) and <span class="math inline">\(Q\)</span>. For common shape, independent shape
and separate models these can be denoted as <span class="math inline">\(\mu_R, \sigma_R, Q_R\)</span> for reference and
<span class="math inline">\(\mu_I, \sigma_I, Q_I\)</span> for
intervention. For common shape models <span class="math inline">\(\sigma_R=\sigma_I\)</span> and <span class="math inline">\(Q_R=\)</span>Q_I$.</p>
<p>The SAS STEM macro reports INTERCEPT, TX(INTERVENTION), SCALE and
SHAPE which are converted as shown below.</p>
<div class="section level5">
<h5 id="seperate-models-5">Seperate models<a class="anchor" aria-label="anchor" href="#seperate-models-5"></a>
</h5>
<ul>
<li>Reference arm
<ul>
<li>INTERCEPT = <span class="math inline">\(\mu_R\)</span>
</li>
<li>SCALE = <span class="math inline">\(\sigma_R\)</span>
</li>
<li>SHAPE = <span class="math inline">\(Q_R\)</span>
</li>
</ul>
</li>
<li>Intervention arm
<ul>
<li>INTERCEPT = <span class="math inline">\(\mu_I\)</span>
</li>
<li>SCALE = <span class="math inline">\(\sigma_I\)</span>
</li>
<li>SHAPE = <span class="math inline">\(Q_I\)</span>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="common-shape-models-5">Common shape models<a class="anchor" aria-label="anchor" href="#common-shape-models-5"></a>
</h5>
<ul>
<li>INTERCEPT = <span class="math inline">\(\mu_R\)</span>
</li>
<li>TX(INTERVENTION) = <span class="math inline">\(\mu_I -
\mu_R\)</span>
</li>
<li>SCALE = <span class="math inline">\(\sigma_R\)</span>
</li>
<li>SHAPE = <span class="math inline">\(Q_R\)</span>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="excel-formula-5">Excel formula<a class="anchor" aria-label="anchor" href="#excel-formula-5"></a>
</h5>
<p>To derive survival in Excel the following formula are used:</p>
<ul>
<li>
<code>lambda = (EXP(-INTERCEPT)^(SHAPE/SCALE))/(SHAPE^2)</code>
and/or</li>
<li><code>lambda = (EXP(-(INTERCEPT+TX(INTERVENTION))^(SHAPE/SCALE))/(SHAPE^2)</code></li>
<li><code>gamma = 1/(SHAPE^2)</code></li>
<li><code>delta = SHAPE/SCALE</code></li>
<li><code>Survival = IF(gamma&gt;0, 1-GAMMADIST(lambda*time^(delta),gamma,1,TRUE), 1-( 1-GAMMADIST(lambda*time^(delta),gamma,1,TRUE)))</code></li>
</ul>
</div>
</div>
<div class="section level4">
<h4 id="conversion-of-gamma-models">Conversion of Gamma models<a class="anchor" aria-label="anchor" href="#conversion-of-gamma-models"></a>
</h4>
<p><tt>flexsurvPlus</tt> uses the parameters Shape (<span class="math inline">\(a\)</span>) and Rate (<span class="math inline">\(b\)</span>). For common shape, independent shape
and separate models these can be denoted as <span class="math inline">\(a_R, b_R\)</span> for reference and <span class="math inline">\(a_I, b_I\)</span> for intervention. For common
shape models <span class="math inline">\(a_R=a_I\)</span>.</p>
<p>The SAS STEM macro reports INTERCEPT, TX(INTERVENTION) and SCALE
which are converted as shown below. This is equivalent to the parameters
used for the Generalized Gamma when the constraint that <span class="math inline">\(\sigma = Q\)</span> or identically that SCALE =
SHAPE is applied.</p>
<div class="section level5">
<h5 id="seperate-models-6">Seperate models<a class="anchor" aria-label="anchor" href="#seperate-models-6"></a>
</h5>
<ul>
<li>Reference arm
<ul>
<li>INTERCEPT = <span class="math inline">\(-\log(\frac{b_R}{a_R})\)</span>
</li>
<li>SCALE = <span class="math inline">\(\frac{1}{\sqrt{a_R}}\)</span>
</li>
</ul>
</li>
<li>Intervention arm
<ul>
<li>INTERCEPT = <span class="math inline">\(-\log(\frac{b_I}{a_I})\)</span>
</li>
<li>SCALE = <span class="math inline">\(\frac{1}{\sqrt{a_I}}\)</span>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="common-shape-models-6">Common shape models<a class="anchor" aria-label="anchor" href="#common-shape-models-6"></a>
</h5>
<ul>
<li>INTERCEPT = <span class="math inline">\(-\log(\frac{b_R}{a_R})\)</span>
</li>
<li>TX(INTERVENTION) = <span class="math inline">\(-(\log(b_I) -
\log(b_R))\)</span>
</li>
<li>SCALE = <span class="math inline">\(\frac{1}{\sqrt{a_R}}\)</span>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="excel-formula-6">Excel formula<a class="anchor" aria-label="anchor" href="#excel-formula-6"></a>
</h5>
<p>To derive survival in Excel the following formula are used:</p>
<ul>
<li>
<code>lambda = (EXP(-INTERCEPT))/(SCALE^2)</code> and/or</li>
<li><code>lambda = (EXP(-(INTERCEPT+TX(INTERVENTION)))/(SCALE^2)</code></li>
<li><code>gamma = 1/(SCALE^2)</code></li>
<li><code>Survival = IF(gamma&gt;0, 1-GAMMADIST(lambda*time,gamma,1,TRUE), 1- (1-GAMMADIST(lambda*time,gamma,1,TRUE)))</code></li>
</ul>
</div>
</div>
</div>
<div class="section level3">
<h3 id="conversion-of-aic-and-bic">Conversion of AIC and BIC<a class="anchor" aria-label="anchor" href="#conversion-of-aic-and-bic"></a>
</h3>
<p>As the existing SAS STEM macro estimated models with log(time) as a
response variable while <tt>flexsurv</tt> and <tt>flexsurvPlus</tt>
estimate models with time as the response variable there are differences
in the log-likelihood between the two software packages. These
differences do not affect the parameter estimates or ranking of fit but
do affect the AIC and BIC reported by a constant.</p>
<p>This constant is the sum of the events log(time). As such can convert
by adding this constant to the maximum log-likelihood and by extension
double the sum of the events log(time) to AIC or BIC.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># This constant is estimated from the sum of the log of times for patients who have an event</span></span>
<span></span>
<span><span class="va">PFS_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">event</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># select events only</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html" class="external-link">transmute</a></span><span class="op">(</span>log_event_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">AVAL</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># difference in log time</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">log_event_time</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="co">#&gt;   2 * sum(log_event_time)</span></span>
<span><span class="co">#&gt; 1                4274.312</span></span>
<span></span>
<span><span class="co"># So for common shape models (using all data) the difference is 4274.312</span></span>
<span></span>
<span><span class="co"># Can be seen in results from convSTEM here</span></span>
<span><span class="va">modsum</span> <span class="op">&lt;-</span> <span class="va">PFS_conv_all</span><span class="op">$</span><span class="va">stem_modsum</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/transmute.html" class="external-link">transmute</a></span><span class="op">(</span><span class="va">Model</span>, <span class="va">Dist</span>, <span class="va">AIC</span>, <span class="va">AIC_SAS</span>, <span class="va">BIC</span>, <span class="va">BIC_SAS</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># note as the separate and common shape models use different data these are not comparable</span></span>
<span><span class="va">modsum</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>delta_AIC <span class="op">=</span> <span class="va">AIC</span> <span class="op">-</span> <span class="va">AIC_SAS</span>,</span>
<span>         delta_BIC <span class="op">=</span> <span class="va">AIC</span> <span class="op">-</span> <span class="va">AIC_SAS</span><span class="op">)</span></span>
<span><span class="co">#&gt;                      Model              Dist      AIC   AIC_SAS      BIC</span></span>
<span><span class="co">#&gt; 1             Common shape       Exponential 5600.660 1326.3479 5609.089</span></span>
<span><span class="co">#&gt; 2             Common shape           Weibull 5545.222 1270.9094 5557.866</span></span>
<span><span class="co">#&gt; 3             Common shape          Gompertz 5564.003 1289.6905 5576.647</span></span>
<span><span class="co">#&gt; 4             Common shape        Log Normal 5606.451 1332.1382 5619.094</span></span>
<span><span class="co">#&gt; 5             Common shape      Log Logistic 5566.512 1292.1995 5579.156</span></span>
<span><span class="co">#&gt; 6             Common shape Generalized Gamma 5546.841 1272.5287 5563.699</span></span>
<span><span class="co">#&gt; 7             Common shape             Gamma 5546.203 1271.8911 5558.847</span></span>
<span><span class="co">#&gt; 8  Separate - Intervention       Exponential 3023.176  671.5601 3026.697</span></span>
<span><span class="co">#&gt; 9  Separate - Intervention           Weibull 2990.943  639.3272 2997.986</span></span>
<span><span class="co">#&gt; 10 Separate - Intervention          Gompertz 3005.220  653.6042 3012.263</span></span>
<span><span class="co">#&gt; 11 Separate - Intervention        Log Normal 3021.443  669.8278 3028.486</span></span>
<span><span class="co">#&gt; 12 Separate - Intervention      Log Logistic 3002.733  651.1172 3009.776</span></span>
<span><span class="co">#&gt; 13 Separate - Intervention Generalized Gamma 2991.950  640.3347 3002.514</span></span>
<span><span class="co">#&gt; 14 Separate - Intervention             Gamma 2990.152  638.5363 2997.195</span></span>
<span><span class="co">#&gt; 15    Separate - Reference       Exponential 2577.485  654.7878 2581.006</span></span>
<span><span class="co">#&gt; 16    Separate - Reference           Weibull 2556.271  633.5741 2563.314</span></span>
<span><span class="co">#&gt; 17    Separate - Reference          Gompertz 2560.755  638.0579 2567.798</span></span>
<span><span class="co">#&gt; 18    Separate - Reference        Log Normal 2582.939  660.2420 2589.982</span></span>
<span><span class="co">#&gt; 19    Separate - Reference      Log Logistic 2563.469  640.7722 2570.512</span></span>
<span><span class="co">#&gt; 20    Separate - Reference Generalized Gamma 2558.162  635.4655 2568.727</span></span>
<span><span class="co">#&gt; 21    Separate - Reference             Gamma 2557.768  635.0706 2564.810</span></span>
<span><span class="co">#&gt; 22       Independent shape       Exponential 5600.660 1326.3479 5609.089</span></span>
<span><span class="co">#&gt; 23       Independent shape           Weibull 5547.214 1272.9013 5564.072</span></span>
<span><span class="co">#&gt; 24       Independent shape          Gompertz 5565.974 1291.6621 5582.833</span></span>
<span><span class="co">#&gt; 25       Independent shape      Log Logistic 5566.202 1291.8894 5583.060</span></span>
<span><span class="co">#&gt; 26       Independent shape             Gamma 5547.919 1273.6069 5564.778</span></span>
<span><span class="co">#&gt; 27       Independent shape        Log Normal 5604.382 1330.0698 5621.241</span></span>
<span><span class="co">#&gt; 28       Independent shape Generalized Gamma 5550.112 1275.8001 5575.400</span></span>
<span><span class="co">#&gt;      BIC_SAS delta_AIC delta_BIC</span></span>
<span><span class="co">#&gt; 1  1334.7771  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 2  1283.5533  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 3  1302.3343  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 4  1344.7821  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 5  1304.8433  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 6  1289.3872  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 7  1284.5349  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 8   675.0816  2351.615  2351.615</span></span>
<span><span class="co">#&gt; 9   646.3702  2351.615  2351.615</span></span>
<span><span class="co">#&gt; 10  660.6471  2351.615  2351.615</span></span>
<span><span class="co">#&gt; 11  676.8707  2351.615  2351.615</span></span>
<span><span class="co">#&gt; 12  658.1602  2351.615  2351.615</span></span>
<span><span class="co">#&gt; 13  650.8991  2351.615  2351.615</span></span>
<span><span class="co">#&gt; 14  645.5792  2351.615  2351.615</span></span>
<span><span class="co">#&gt; 15  658.3092  1922.697  1922.697</span></span>
<span><span class="co">#&gt; 16  640.6170  1922.697  1922.697</span></span>
<span><span class="co">#&gt; 17  645.1009  1922.697  1922.697</span></span>
<span><span class="co">#&gt; 18  667.2849  1922.697  1922.697</span></span>
<span><span class="co">#&gt; 19  647.8151  1922.697  1922.697</span></span>
<span><span class="co">#&gt; 20  646.0299  1922.697  1922.697</span></span>
<span><span class="co">#&gt; 21  642.1136  1922.697  1922.697</span></span>
<span><span class="co">#&gt; 22 1334.7771  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 23 1289.7598  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 24 1308.5206  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 25 1308.7478  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 26 1290.4653  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 27 1346.9282  4274.312  4274.312</span></span>
<span><span class="co">#&gt; 28 1301.0878  4274.312  4274.312</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Iain Bennett, Jo Gregory, Sarah Smith, Richard Birnie.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
