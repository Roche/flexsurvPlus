<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Run complete parametric survival analysis for multiple models with multiple distributions — runPSM • flexsurvPlus</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Run complete parametric survival analysis for multiple models with multiple distributions — runPSM"><meta property="og:description" content="Run complete parametric survival analysis for multiple models with multiple distributions"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-SGZFXJEC6X"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SGZFXJEC6X');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flexsurvPlus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.06</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://roche.github.io/Global-HTA-Evidence-Open/index.html" class="external-link">Global-HTA-Evidence-Open</a>
    </li>
    <li>
      <a href="https://roche.github.io/flexsurvPlus/index.html" class="external-link">flexsurvPlus</a>
    </li>
    <li>
      <a href="https://roche.github.io/gemtcPlus/index.html" class="external-link">gemtcPlus</a>
    </li>
    <li>
      <a href="https://roche.github.io/MAIC/index.html" class="external-link">MAIC</a>
    </li>
    <li>
      <a href="https://roche.github.io/rpsftmPlus/index.html" class="external-link">rpsftmPlus</a>
    </li>
    <li>
      <a href="https://roche.github.io/descem/index.html" class="external-link">descem</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Roche/flexsurvPlus" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run complete parametric survival analysis for multiple models with multiple distributions</h1>
    
    <div class="hidden name"><code>runPSM.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Run complete parametric survival analysis for multiple models with multiple distributions</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">runPSM</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">time_var</span>,</span>
<span>  <span class="va">event_var</span>,</span>
<span>  weight_var <span class="op">=</span> <span class="st">""</span>,</span>
<span>  model.type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Separate"</span>, <span class="st">"Common shape"</span>, <span class="st">"Independent shape"</span><span class="op">)</span>,</span>
<span>  distr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"exp"</span>, <span class="st">"weibull"</span>, <span class="st">"gompertz"</span>, <span class="st">"lnorm"</span>, <span class="st">"llogis"</span>, <span class="st">"gengamma"</span>, <span class="st">"gamma"</span>, <span class="st">"genf"</span><span class="op">)</span>,</span>
<span>  <span class="va">strata_var</span>,</span>
<span>  <span class="va">int_name</span>,</span>
<span>  <span class="va">ref_name</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>A data frame containing individual patient data for the relevant
time to event outcomes.</p></dd>


<dt>time_var</dt>
<dd><p>Name of time variable in 'data'. Variable must be numerical and &gt;0.</p></dd>


<dt>event_var</dt>
<dd><p>Name of event variable in 'data'. Variable must be
numerical and contain 1's to indicate an event and 0 to indicate a censor.</p></dd>


<dt>weight_var</dt>
<dd><p>Optional name of a variable in "data" containing case weights.</p></dd>


<dt>model.type</dt>
<dd><p>Character vector indicating the types of model formula
provided. Permitted values are</p><ul><li><p>'Common shape' a model with a single covariate for the effect of
treatment on the scale parameter of the model.
The model fit is in the form Surv(Time, Event==1) ~ ARM.
The shape parameter is the same for each treatment, and derived directly from
the model (no additional manipulation is required).
The scale parameter is derived directly from the model for the reference category, however,
for the intervention arm, this is calculated as reference shape + treatment effect (shape).</p></li>
<li><p>'Independent shape' a model with a single covariate for treatment
that affects both the scale and shape parameters of the model.
The model fit is in the form Surv(Time, Event==1) ~ ARM + shape(ARM).
The scale parameter is derived directly from the model for the reference
category, however, for the intervention arm, this is calculated as reference
scale + treatment effect (scale).
The shape parameter is derived directly from the model for the reference category,
however, for the intervention arm, this is calculated as reference shape + treatment effect (shape).</p></li>
<li><p>'Separate' a model with no covariates fitted separately to
data from each treatment group in a study.
The model fit is in the form Surv(Time, Event==1) ~ 1 and is fit twice (one separate
model for each of the two treatments). The parameters for each treatment, are derived
directly from the model (no additional manipulation is required).</p></li>
<li><p>'One arm' a model with no covariates is fitted to the entire data
set without a strata variable.
The model fit is in the form Surv(Time, Event==1) ~ 1 and is fit to the entire data (no strata).
The parameters for each treatment, are derived directly from the model (no additional manipulation
is required).</p></li>
</ul><p>Default is c("Separate", "Common shape", "Independent shape").</p></dd>


<dt>distr</dt>
<dd><p>A vector string of distributions, see dist argument in
<code>flexsurvreg</code>. Default is all available distributions (see below).</p></dd>


<dt>strata_var</dt>
<dd><p>Name of stratification variable in "data". This is usually
the treatment variable and must be categorical. Not required when model.type='One arm'.</p></dd>


<dt>int_name</dt>
<dd><p>Character to indicate the name of the treatment of interest,
must be a level of the "strata_var" column in "data", used for labelling
the parameters.</p></dd>


<dt>ref_name</dt>
<dd><p>Character to indicate the name of the reference treatment,
must be a level of the "strata_var" column in "data", used for labelling
the parameters. Not required when model.type='One arm'.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list containing 'models' (models fit using flexsurvreg), 'model_summary' (a tibble containing AIC, BIC and convergence information),
'parameters_vector' (a vector containing the coefficients of each flexsurv model), and 'config' (a list containing
information on the function call).</p><ul><li><p>'models' is a list of flexsurv objects for each distribution specified</p></li>
<li><p>'model_summary' is a tibble object containing the fitted model objects, the parameter
estimates (<code><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></code>),  <code><a href="https://rdrr.io/r/stats/AIC.html" class="external-link">AIC</a></code> and <code><a href="https://rdrr.io/r/stats/AIC.html" class="external-link">BIC</a></code>
from flexsurv objects.</p></li>
<li><p>'parameters_vector' is a vector which contains the coefficients for all of the flexsurv models specified.
The column names are in the format 'modeltype.distribution.parameter.TreatmentName', for example, comshp.weibull.shape.Int refers to the shape parameter
of the common shape weibull distribution for the intervention treatment and 'indshp.gengamma.mu.ref' refers to the mu parameter
of the independent shape generalised gamma distribution for the reference treatment. Columns with 'TE' at the end are the treatment effect coefficients
(applicable to the scale and shape parameters for independent shape models, applicable to the scale parameter only for the common shape
model and not applicable for the separate or one-arm model).</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>Possible distributions include:</p><ul><li><p>Exponential ('exp')</p></li>
<li><p>Weibull ('weibull')</p></li>
<li><p>Gompertz ('gompertz')</p></li>
<li><p>Log-normal ('lnorm')</p></li>
<li><p>Log-logistic ('llogis')</p></li>
<li><p>Generalized gamma ('gengamma')</p></li>
<li><p>Gamma ('gamma')</p></li>
<li><p>Generalised F ('genf')</p></li>
</ul><p>For more details and examples see the package vignettes:</p><ul><li><p><code><a href="../articles/Fitting_models_in_R.html">vignette("Fitting_models_in_R", package = "flexsurvPlus")</a></code></p></li>
<li><p><code><a href="../articles/Bootstrap_models_in_R.html">vignette("Bootstrap_models_in_R", package = "flexsurvPlus")</a></code></p></li>
<li><p><code><a href="../articles/Model_theory.html">vignette("Model_theory", package = "flexsurvPlus")</a></code></p></li>
</ul></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Iain Bennett, Jo Gregory, Sarah Smith, Richard Birnie.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

